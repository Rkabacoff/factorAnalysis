---
title: "Using the factorAnalysis package"
author: "Rob Kabacoff"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The **factorAnalysis* package provides functions for principal components and common factor analysis. Based on the William Revelle's comprehensive \link[psych]{https://cran.r-project.org/web/packages/psych/index.html} package, the \code{factorAnalysis} package provides simplified input, intuitive output, and easily interpretable graphs, making these techniques more accessible to data analysts new to these forms of analysis.

## Principal Components Analysis

```{r, fig.width=6, fig.height=6}
library(factorAnalysis)

# input data
ratings <- read.csv("https://www.promptcloud.com/wp-content/uploads/2017/02/EFA.csv")
head(ratings)

# scree plot
screePlot(ratings)

# extract 2 principal components
fit.pca <- PCA(ratings, nfactor=2, rotate="varimax")

# plot factor pattern as table
plot(fit.pca)

# plot factor pattern as bar chart
plot(fit.pca, type="bar")

# save component scores
mydata <- score(ratings, fit.pca)
head(mydata)
```

